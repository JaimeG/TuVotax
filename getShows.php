<?php
	// Get El Salvador time
	date_default_timezone_set("America/El_Salvador");

	$shows = array();
	$programa = array(
			'nombre' => 'Sin Transmición',
			'inicio' => "12:00 AM",
			'fin'=>  "5:59 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Óscar Picardo Elmer Crespín - EN VIVO ',
			'inicio' => "7:00 AM",
			'fin'=>  "7:29 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Walter Araujo - EN VIVO ',
			'inicio' => "8:00 AM",
			'fin'=>  "8:59 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Medardo Gonzáles - Secretario general del FMLN - EN VIVO ',
			'inicio' => "9:00 AM",
			'fin'=>  "9:59 AM",
			'invitados' => ''
		);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Entrevista | César Ríos - Cecibel Roldán - EN VIVO ',
	// 		'inicio' => "9:30 AM",
	// 		'fin'=>  "9:59 AM",
	// 		'invitados' => ''
	// 	);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Entrevista | César Ríos Director del Instituto Salvadoreño del migrante - Cecibel Roldán (Ciudadanía Activa) - EN VIVO ',
	// 		'inicio' => "10:00 AM",
	// 		'fin'=>  "10:29 AM",
	// 		'invitados' => ''
	// 	);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Entrevista | Eugenio Rojas - Gabriela Montaño - EN VIVO ',
	// 		'inicio' => "10:30 AM",
	// 		'fin'=>  "10:59 AM",
	// 		'invitados' => ''
	// 	);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Jorge Velado - Presidente del COENA - EN VIVO ',
			'inicio' => "10:30 AM",
			'fin'=>  "10:59 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Gabriela Montaño Presidenta de la comisión de bolivia - Eugenio Rojas Presidente del senado de bolivia',
			'inicio' => "11:00 AM",
			'fin'=>  "11:29 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Hato Hasbún - Secretario de Asuntos Estratégicos de la Presidencia',
			'inicio' => "11:30 AM",
			'fin'=>  "11:59 AM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Lorena Peña - Diputada del FMLN',
			'inicio' => "12:00 PM",
			'fin'=>  "12:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Margarita Velado - EN VIVO ',
			'inicio' => "1:00 PM",
			'fin'=>  "1:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Especial | Segunda vuelta elecciones presidenciales 2014 - Notas / Capsulas - EN VIVO',
			'inicio' => "1:30 PM",
			'fin'=>  "2:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Eliseo Ascencio, Director de ASDIAPROSAL - Julio Merino, Presidente de Fuerza Cristiana',
			'inicio' => "2:30 PM",
			'fin'=>  "2:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Ernesto Muyshondt - Vicepresidente de ideología del COENA',
			'inicio' => "3:00 PM",
			'fin'=>  "3:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Napoleon Garcia (Censura Cero) - Javier Melgar (Oveja Negra) - Gerson Vichez -PROGRE',
			'inicio' => "3:30 PM",
			'fin'=>  "3:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | José Luís Merino Secretario nacional de organización FMLN',
			'inicio' => "4:00 PM",
			'fin'=>  "4:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Astor Escalante Ex Fiscal General de la República - Henry Campos (Ex Viceministro de seguridad)',
			'inicio' => "4:30 PM",
			'fin'=>  "4:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Carmen Áida Lazo (Decana de la ESEN) - Mario Cerna (Economista)',
			'inicio' => "5:00 PM",
			'fin'=>  "5:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Gerson Martínez Ministro de obras públicas',
			'inicio' => "5:30 PM",
			'fin'=>  "5:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Manuel Zelaya - Patricia Rodas',
			'inicio' => "6:00 PM",
			'fin'=>  "6:59 PM",
			'invitados' => ''
		);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Entrevista | Óscar Picardo (Director del centro de estudios ciudadanos de la UFG) - Elmer Crespín (Investigador de la UFG) - EN VIVO',
	// 		'inicio' => "6:30 PM",
	// 		'fin'=>  "6:59 PM",
	// 		'invitados' => ''
	// 	);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Marcos Rodríguez (Director de El Salvador Adelante) - Facundo Guardado (Coordinador de temas de seguridad ARENA) - EN VIVO',
			'inicio' => "7:00 PM",
			'fin'=>  "7:39 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Marcos Rodríguez (Director de El Salvador Adelante) - Facundo Guardado (Coordinador de temas de seguridad ARENA) - EN VIVO',
			'inicio' => "7:40 PM",
			'fin'=>  "7:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Roberto Rugamas - Guillermo Miranda - EN VIVO',
			'inicio' => "8:00 PM",
			'fin'=>  "8:29 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Entrevista | Roberto Rugamas - Guillermo Miranda - EN VIVO',
			'inicio' => "8:30 PM",
			'fin'=>  "8:59 PM",
			'invitados' => ''
		);

	array_push($shows,$programa);
	$programa = array(
			'nombre' => 'Especial Segunda vuelta Elecciones presidenciales TuVotasTVX ',
			'inicio' => "9:00 PM",
			'fin'=>  "11:59 PM",
			'invitados' => ''
		);



	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'GNX',
	// 		'inicio' => "8:00 AM",
	// 		'fin'=>  "8:59 AM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'En Vivo',
	// 		'inicio' => "9:00 AM",
	// 		'fin'=>  "9:59 AM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Videotópico',
	// 		'inicio' => "10:00 AM",
	// 		'fin'=>  "10:59 AM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Novascopio',
	// 		'inicio' => "11:00 AM",
	// 		'fin'=>  "11:59 AM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Las Trillizas de belleville',
	// 		'inicio' => "12:00 PM",
	// 		'fin'=>  "3:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Dragon Ball Z',
	// 		'inicio' => "3:30 PM",
	// 		'fin'=>  "3:59 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Los Caballeros del Zodiaco',
	// 		'inicio' => "4:00 PM",
	// 		'fin'=>  "4:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Samurai Champloo',
	// 		'inicio' => "4:30 PM",
	// 		'fin'=>  "4:59 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Full Metal Alchemist',
	// 		'inicio' => "5:00 PM",
	// 		'fin'=>  "5:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Gungrave',
	// 		'inicio' => "5:30 PM",
	// 		'fin'=>  "5:59 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Maratón anime - Heroman',
	// 		'inicio' => "6:00 PM",
	// 		'fin'=>  "7:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Especial - Segunda vuelta Previo a las elecciones 2014',
	// 		'inicio' => "7:30 PM",
	// 		'fin'=>  "8:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'El Canto de Los Sueños',
	// 		'inicio' => "8:30 PM",
	// 		'fin'=>  "8:59 PM",
	// 		'invitados' => ''
	// 	);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'La Teta y La Luna',
	// 		'inicio' => "9:00 PM",
	// 		'fin'=>  "11:59 PM",
	// 		'invitados' => ''
	// 	);

	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Zarezion',
	// 		'inicio' => "9:30 PM",
	// 		'fin'=>  "9:59 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Bum Bam Pop',
	// 		'inicio' => "10:00 PM",
	// 		'fin'=>  "10:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Zarezion',
	// 		'inicio' => "10:30 PM",
	// 		'fin'=>  "10:59 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Bum Bam Pop',
	// 		'inicio' => "11:00 PM",
	// 		'fin'=>  "11:29 PM",
	// 		'invitados' => ''
	// 	);
	// array_push($shows,$programa);
	// $programa = array(
	// 		'nombre' => 'Hora de aventura',
	// 		'inicio' => "11:30 PM",
	// 		'fin'=>  "11:59 PM",
	// 		'invitados' => ''
	// 	);
	array_push($shows,$programa);

$actual = null;
$siguiente = null;

$indice=0;
$ahora=strtotime(date('G:i'));

$i=0;
for($i=0; $i<count($shows); $i++){
	$programa = $shows[$i];

	if( ( $ahora >= strtotime($programa["inicio"]) ) && ( $ahora <= strtotime($programa["fin"]) )){
		$actual = $programa;
		
		if($i+1 >= count($shows) )
			$siguiente = array('nombre' => "",'inicio' =>"" ,'fin' =>"", 'invitados' => ""  );
		else
			$siguiente = $shows[$i+1];

		break;
	}

}

echo json_encode(
	array(
		"hora_servidor"=>date("h:i"), 
		"actual"=>$actual,
		"siguiente"=>$siguiente
		)
	);